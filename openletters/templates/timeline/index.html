<html
  xmlns:py="http://genshi.edgewall.org/"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  py:strip=""
  >

  <py:def function="page_title">Timeline - Home</py:def>

  <py:def function="optional_head">
    <script src="http://static.simile.mit.edu/timeline/api-2.3.0/timeline-api.js" type="text/javascript"></script>
  <script type="text/javascript">
    jQuery(document).ready(function() {
      var eventSource = new Timeline.DefaultEventSource();
      evts = [];
   
//      var elem = jQuery(elem);
//      var dateEvent = new Date();
//      dateEvent.setISO8601(elem.find('.published')[0].getAttribute('title'));
//      var evt = new Timeline.DefaultEventSource.Event(
//         dateEvent, //start
//         dateEvent, //end
//         dateEvent, //latestStart
//         dateEvent, //earliestEnd
//         true, //instant
//         elem.find('.content a:first').text(), //text
//         elem.find('.entry-content').text() //description
//      );
//      eventSource.add(evt);

      var bandInfos = [
        Timeline.createBandInfo({
          width:          "100%", 
          intervalUnit:   Timeline.DateTime.MINUTE, 
          intervalPixels: 10,
          eventSource: eventSource,
        }),
      ];
      tl = Timeline.create($("#timeline"), bandInfos);
    });
  </script>

  </py:def>

  <div py:def="content">
    <h2>Timeline - Charles Dickens</h2>

    <div id="timeline" style="height: 150px; border: 1px solid #aaa"></div>
    <noscript>
    This page uses Javascript to show you a Timeline. Please enable Javascript in your browser to see the full page. Thank you.
    </noscript>
  </div>

  <xi:include href="../layout.html" />
</html>

